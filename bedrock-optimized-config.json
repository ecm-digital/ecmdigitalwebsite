{
  "knowledgeBaseName": "ecm-digital-knowledge-optimized",
  "description": "Zoptymalizowana baza wiedzy ECM Digital - niskie koszty",
  "roleArn": "arn:aws:iam::049164057970:role/AmazonBedrockExecutionRoleForKnowledgeBase_ecm",
  "knowledgeBaseConfiguration": {
    "type": "VECTOR",
    "vectorKnowledgeBaseConfiguration": {
      "embeddingModelArn": "arn:aws:bedrock:eu-west-1::foundation-model/amazon.titan-embed-text-v1",
      "embeddingModelConfiguration": {
        "bedrockEmbeddingModelConfiguration": {
          "dimensions": 1536
        }
      }
    }
  },
  "dataSource": {
    "name": "ecm-digital-s3-source",
    "description": "Źródło danych S3 dla ECM Digital",
    "dataSourceConfiguration": {
      "type": "S3",
      "s3Configuration": {
        "bucketArn": "arn:aws:s3:::ecm-digital-knowledge",
        "inclusionPrefixes": [
          "services/",
          "faq/",
          "meta/"
        ]
      }
    },
    "vectorIngestionConfiguration": {
      "chunkingConfiguration": {
        "chunkingStrategy": "FIXED_SIZE",
        "fixedSizeChunkingConfiguration": {
          "maxTokens": 300,
          "overlapPercentage": 20
        }
      }
    }
  },
  "vectorDatabase": {
    "opensearchServerlessConfiguration": {
      "collectionArn": "arn:aws:aoss:eu-west-1:049164057970:collection/bedrock-knowledge-base-default",
      "vectorIndexName": "bedrock-knowledge-base-default-index",
      "fieldMapping": {
        "vectorField": "bedrock-knowledge-base-default-vector",
        "textField": "AMAZON_BEDROCK_TEXT_CHUNK",
        "metadataField": "AMAZON_BEDROCK_METADATA"
      }
    }
  },
  "tags": {
    "Project": "ECM-Digital",
    "Environment": "Production",
    "CostOptimized": "true"
  }
}

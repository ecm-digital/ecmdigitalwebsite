{
  "agentName": "ECM-Marketing-Agent-Dev",
  "agentDescription": "Agent marketingowy ECM Digital do tworzenia treści, zarządzania zadaniami i kampaniami",
  "foundationModel": "anthropic.claude-3-sonnet-20240229-v1:0",
  "instruction": "Rola: Jesteś Agentem Marketingu ECM Digital.\nCel: Twórz plany działań, briefy, szkice treści, SEO pack i taski w Linear.\nTon: zgodnie z brand/stylecard.json (konkretnie, partnersko, bez żargonu).\nKontekst: korzystaj z wiedzy S3 (oferta, case studies, linkowanie wewn.).\nBezpieczeństwo: unikaj wrażliwych tematów, nie obiecuj gwarantowanych wyników.\nFormat odpowiedzi: ZWRACAJ WYŁĄCZNIE ActionPlan JSON zgodny ze schemas/actionplan.schema.json.\nZasady:\n1) W przypadku treści blogowej przygotuj blogDraft (MDX template), oraz seoPack.\n2) Jeśli wymagana egzekucja, dodaj linearTasks z teamKey, labels, priority.\n3) Slug: kebab-case, bez polskich znaków.\n4) MDX: obowiązkowo <Lead/>, sekcje H2, „Co z tego masz?”, „Następne kroki”.\n5) Jeżeli brakuje danych, dodefiniuj rozsądnie + dodaj task „Uzupełnij dane X”.\n6) Linkowanie: użyj seo/internal-links.json do /services i /case-studies.\n7) Domyślnie publishMode=draft.\nTools: createLinearTasks, saveBlogDraft, notifyUser. Używaj tylko przy potrzebie egzekucji.",
  "knowledgeBase": {
    "name": "ECM-Digital-Knowledge-Base-Dev",
    "description": "Baza wiedzy zawierająca informacje o usługach, case studies i wytycznych brandingu",
    "storageConfiguration": {
      "type": "S3",
      "s3Configuration": {
        "bucketArn": "arn:aws:s3:::ecm-digital-knowledge-dev",
        "bucketOwnerAccountId": "049164057970"
      }
    },
    "dataSource": {
      "type": "S3",
      "s3Configuration": {
        "bucketName": "ecm-digital-knowledge-dev",
        "inclusionPrefixes": [
          "brand/",
          "services/",
          "seo/",
          "templates/"
        ]
      }
    }
  },
  "actionGroups": [
    {
      "name": "CreateLinearTasks",
      "description": "Tworzenie zadań w systemie Linear",
      "functionSchema": {
        "type": "json",
        "json": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "type": "object",
          "properties": {
            "tasks": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "title": {"type": "string"},
                  "description": {"type": "string"},
                  "teamKey": {"type": "string"},
                  "labels": {"type": "array", "items": {"type": "string"}},
                  "priority": {"type": "integer", "minimum": 0, "maximum": 3},
                  "estimate": {"type": "number", "minimum": 0},
                  "dueDate": {"type": "string", "format": "date"}
                },
                "required": ["title", "teamKey"]
              }
            }
          },
          "required": ["tasks"]
        }
      },
      "actionGroupExecutor": {
        "lambda": "arn:aws:lambda:eu-central-1:049164057970:function:CreateLinear-dev"
      }
    },
    {
      "name": "SaveBlogDraft",
      "description": "Zapisywanie szkicu bloga do systemu CMS",
      "functionSchema": {
        "type": "json",
        "json": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "type": "object",
          "properties": {
            "blogDraft": {
              "type": "object",
              "properties": {
                "language": {"type": "string", "enum": ["pl", "en"]},
                "title": {"type": "string"},
                "slug": {"type": "string"},
                "tags": {"type": "array", "items": {"type": "string"}},
                "excerpt": {"type": "string"},
                "sections": {"type": "array", "items": {"type": "string"}},
                "seo": {
                  "type": "object",
                  "properties": {
                    "title": {"type": "string"},
                    "description": {"type": "string"},
                    "ogImage": {"type": "string"}
                  }
                },
                "publishMode": {"type": "string", "enum": ["draft", "auto"]}
              },
              "required": ["language", "title", "slug"]
            },
            "seoPack": {
              "type": "object",
              "properties": {
                "title": {"type": "string"},
                "description": {"type": "string"},
                "slug": {"type": "string"},
                "tags": {"type": "array", "items": {"type": "string"}}
              },
              "required": ["title", "description", "slug"]
            }
          },
          "required": ["blogDraft", "seoPack"]
        }
      },
      "actionGroupExecutor": {
        "lambda": "arn:aws:lambda:eu-central-1:049164057970:function:SaveBlogDraft-dev"
      }
    },
    {
      "name": "NotifyUser",
      "description": "Wysyłanie powiadomień do użytkowników",
      "functionSchema": {
        "type": "json",
        "json": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "type": "object",
          "properties": {
            "userEmail": {"type": "string", "format": "email"},
            "actionType": {"type": "string"},
            "actionData": {"type": "object"},
            "message": {"type": "string"}
          },
          "required": ["userEmail", "actionType"]
        }
      },
      "actionGroupExecutor": {
        "lambda": "arn:aws:lambda:eu-central-1:049164057970:function:NotifyUser-dev"
      }
    }
  ]
}
